# 登录与登录的效验
#### 什么是登录效验
我们项目中有些页面，必须是有登录状态的情况下，才允许你房问。如果没有登录，首先让你去登录一下
#### 如何判断用户是否登录了呢？
1.cookie 
    用户登录成功，给浏览器写一个cookie。比方说写一个username的cookie。后续判断cookie是否存在，存在即有登录，不存在则说明用户没有登录

    上面这种纯cookie的操作，是不够安全的，浏览器端的cookie是可以伪造的。
2.session(存在服务端)
    操作流程：
    1.用户登录成功。服务器保存一个session，session是可以通过sessionid来获取到的。
    2.将sessionid作为cookie写到浏览器去。
    3.基于cookie的特性。会随着http请求携带头中发生到后台去
    4.后台拿到这个cookie的值，这个值其实就是sessionid
    5.在根据这个sesiionid就可以获得session的内容
    6.根据session的内容来做判断，是否登录之类的
     <!-- {   i d：内容
            key：value，
            key：value
    } -->
### 使用express-session在express项目中操作session
1.安装
npm install --save express-session
2.调用这个session中间件
app.use(session({
    sercet:'dasdsaeac',//cookie签名。
    resave:true//是否在对session有更新操作的时候，重新给浏览器更新sessionid
    unfasdfasdfasdfasds：ture，//是否默认初始化session
    cookie：{
        maxAge：       //有效期
    }
}))
3.session中间件，就给req加了个session属性。后续对他做处理

   
